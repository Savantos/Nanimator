(function(e){var g=0;var a=[];var c=[];var d={};var f={cancel:false,reanimate:false,delay:true};var b={top:{axis:"y",factor:-1},bottom:{axis:"y",factor:1},left:{axis:"x",factor:-1},right:{axis:"x",factor:1},none:{axis:0,factor:0}};e.fn.nanimate=function(h){d=e.extend(f,h);if(e(this).attr("id")==""){g+=1;id="nanimated"+g;e(this).attr("id",id)}else{id=e(this).attr("id")}a[id]=[];c[id]=0;if(a[id].length==0||d.reanimate){e(this).trigger("nanimate.calculating");e(this).find(".nanimate").each(function(){var o=e(this).data("distance");var l=e(this).data("direction");var k=e(this).data("time");var n=e(this).data("fade");var j=e(this).data("duration");var i=e(this).data("release");var m=e(this).data("ease");a[id].push({obj:e(this),distance:o,direction:l,time:k,fade:n,duration:j,release:i,ease:m});e(this).css({opacity:0})});e(this).trigger("nanimate.calculated")}e(this).trigger("nanimate.started");e.fn.animationChain(id,c[id])};e.fn.animationChain=function(h,p){if(d.cancel){return}if(!a[h][p]){e("#"+h).trigger("nanimate.finished");return}var r=0;if(p==0&&d.delay){r=1000}var q=a[h][c[h]];var j=q.distance*b[q.direction].factor;var s=b[q.direction].axis;var k=q.time;var l=q.fade;var o=q.duration;var t=q.release;var n=q.ease;if(!n){n="linear"}if(!o){o=0}if(!k){k=300}if(s!="none"){var m={};m[s]=j*-1;c[h]+=1;e(q.obj).transition(m,0)}e(q.obj).trigger("nanimate.started");e(q.obj).transition({opacity:1,delay:r,x:0,y:0},k,n,function(){if(l==true){if(t!=true){e(q.obj).transition({opacity:0,delay:o},function(){e.fn.animationChain(h,c[h])})}else{e(q.obj).transition({opacity:0,delay:o});e.fn.animationChain(h,c[h])}}else{e.fn.animationChain(h,c[h])}e(q.obj).trigger("nanimate.finished")})}})(jQuery);